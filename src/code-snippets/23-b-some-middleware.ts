function someMiddleware<C>(conn: C): Promise<C> {
  // ...
}